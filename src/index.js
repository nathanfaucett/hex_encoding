var hex = exports,
    NativeUint8Array = typeof(Uint8Array) !== "undefined" ? Uint8Array : Array;


hex.stringToBytes = function(str) {
    var length = str.length,
        i = 0,
        il = length,
        bytes = new NativeUint8Array(length * 0.5),
        index = 0;

    while (i < il) {
        bytes[index] = parseInt(str.substr(i, 2), 16);
        index += 1;
        i += 2;
    }

    return bytes;
};

hex.bytesToString = function(bytes) {
    var str = "",
        i = -1,
        il = bytes.length - 1;

    while (i++ < il) {
        str += (bytes[i] >>> 4).toString(16);
        str += (bytes[i] & 0xF).toString(16);
    }

    return str;
};
